package com.example.wiprotest.utils;import com.example.wiprotest.model.InstrumentPriceHistory;import java.text.ParseException;import java.util.stream.Stream;public class InstrumentPriceHistoryReader {	public static final int PRICE_COLUMN_INDEX = 2;	private static final int NAME_COLUMN_INDEX = 0;	private static final int DATE_COLUMN_INDEX = 1;	public static Stream<InstrumentPriceHistory> readHistoryLog(Stream<String> lines) {		return lines.map(line -> {			try {				return toInstrumentPriceHistory(line);			} catch (ParseException e) {				throw new RuntimeException(e);			}		});	}	static InstrumentPriceHistory toInstrumentPriceHistory(String line) throws ParseException {		String[] fields = line.split(",");		return new InstrumentPriceHistory(			fields[NAME_COLUMN_INDEX],			DateParser.parseDumpDate(fields[DATE_COLUMN_INDEX]),			Double.parseDouble(fields[PRICE_COLUMN_INDEX])		);	}}